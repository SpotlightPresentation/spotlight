{"ast":null,"code":"import _objectSpread from \"/Users/eric/projects/spotlight/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/eric/projects/spotlight/src/components/display.jsx\";\nimport React, { Component } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport { pdfjs } from 'react-pdf';\nimport Drawing from './drawing';\nimport Shadow from './shadow';\npdfjs.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version, \"/pdf.worker.js\");\nexport default class Display extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      SVGs: [],\n      shadow: null,\n      height: null,\n      width: null\n    };\n\n    this.setDrawing = () => {\n      let page = document.querySelector('.display canvas');\n      this.setState({\n        height: page.clientHeight,\n        width: page.clientWidth\n      });\n    };\n\n    this.handleMouseMove = e => {\n      if (this.state.shadow) {\n        let shadow = _objectSpread({}, this.state.shadow);\n\n        shadow.endX = e.nativeEvent.layerX / this.state.width * 10000;\n        shadow.endY = e.nativeEvent.layerY / this.state.height * 10000;\n        this.setState({\n          shadow\n        });\n      }\n\n      s;\n    };\n\n    this.handleClick = e => {\n      if (this.state.shadow) {\n        let joined = this.state.SVGs.concat(this.state.shadow);\n        this.setState({\n          SVGs: joined,\n          shadow: null\n        });\n      } else if (this.props.selectedTool !== 'none') {\n        this.setState({\n          shadow: {\n            type: this.props.selectedTool,\n            startX: e.nativeEvent.layerX / this.state.width * 10000,\n            startY: e.nativeEvent.layerY / this.state.height * 10000,\n            endX: e.nativeEvent.layerX / this.state.width * 10000,\n            endY: e.nativeEvent.layerY / this.state.height * 10000\n          }\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(Document, {\n      className: \"display\",\n      file: this.props.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Page, {\n      onRenderSuccess: this.setDrawing,\n      height: window.innerHeight - 150,\n      pageNumber: this.props.pageNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(Drawing, {\n      SVGs: this.state.SVGs,\n      height: this.state.height,\n      width: this.state.width,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Shadow, {\n      shadow: this.state.shadow,\n      onClick: this.handleClick,\n      onMouseMove: this.handleMouseMove,\n      height: this.state.height,\n      width: this.state.width,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/eric/projects/spotlight/src/components/display.jsx"],"names":["React","Component","Document","Page","pdfjs","Drawing","Shadow","GlobalWorkerOptions","workerSrc","version","Display","state","SVGs","shadow","height","width","setDrawing","page","document","querySelector","setState","clientHeight","clientWidth","handleMouseMove","e","endX","nativeEvent","layerX","endY","layerY","s","handleClick","joined","concat","props","selectedTool","type","startX","startY","render","content","window","innerHeight","pageNumber"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport { pdfjs } from 'react-pdf';\nimport Drawing from './drawing';\nimport Shadow from './shadow';\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\nexport default class Display extends Component {\n\tstate = {\n\t\tSVGs: [],\n\t\tshadow: null,\n\t\theight: null,\n\t\twidth: null\n\t};\n\tsetDrawing = () => {\n\t\tlet page = document.querySelector('.display canvas');\n\t\tthis.setState({ height: page.clientHeight, width: page.clientWidth });\n\t};\n\thandleMouseMove = (e) => {\n\t\tif (this.state.shadow) {\n\t\t\tlet shadow = { ...this.state.shadow };\n\t\t\tshadow.endX = e.nativeEvent.layerX / this.state.width * 10000;\n\t\t\tshadow.endY = e.nativeEvent.layerY / this.state.height * 10000;\n\t\t\tthis.setState({\n\t\t\t\tshadow\n\t\t\t});\n\t\t}\n\t\ts;\n\t};\n\thandleClick = (e) => {\n\t\tif (this.state.shadow) {\n\t\t\tlet joined = this.state.SVGs.concat(this.state.shadow);\n\t\t\tthis.setState({ SVGs: joined, shadow: null });\n\t\t} else if (this.props.selectedTool !== 'none') {\n\t\t\tthis.setState({\n\t\t\t\tshadow: {\n\t\t\t\t\ttype: this.props.selectedTool,\n\t\t\t\t\tstartX: e.nativeEvent.layerX / this.state.width * 10000,\n\t\t\t\t\tstartY: e.nativeEvent.layerY / this.state.height * 10000,\n\t\t\t\t\tendX: e.nativeEvent.layerX / this.state.width * 10000,\n\t\t\t\t\tendY: e.nativeEvent.layerY / this.state.height * 10000\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Document className=\"display\" file={this.props.content}>\n\t\t\t\t<Page\n\t\t\t\t\tonRenderSuccess={this.setDrawing}\n\t\t\t\t\theight={window.innerHeight - 150}\n\t\t\t\t\tpageNumber={this.props.pageNumber}\n\t\t\t\t/>\n\t\t\t\t<Drawing SVGs={this.state.SVGs} height={this.state.height} width={this.state.width} />\n\t\t\t\t<Shadow\n\t\t\t\t\tshadow={this.state.shadow}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\t\theight={this.state.height}\n\t\t\t\t\twidth={this.state.width}\n\t\t\t\t/>\n\t\t\t</Document>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}