{"ast":null,"code":"import _objectSpread from \"/Users/eric/projects/spotlight/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/eric/projects/spotlight/src/components/display.jsx\";\nimport React, { Component } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport { pdfjs } from 'react-pdf';\nimport Drawing from './drawing';\npdfjs.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version, \"/pdf.worker.js\");\nexport default class Display extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      SVGs: [],\n      shadow: null,\n      height: null,\n      width: null\n    };\n\n    this.setDrawing = () => {\n      let page = document.querySelector('.display canvas');\n      this.setState({\n        height: page.clientHeight,\n        width: page.clientWidth\n      });\n    };\n\n    this.handleMouseMove = e => {\n      if (this.state.shadow) {\n        let shadow = _objectSpread({}, this.state.shadow);\n\n        shadow.endX = e.nativeEvent.layerX / this.state.width * 10000;\n        shadow.endY = e.nativeEvent.layerY / this.state.height * 10000;\n        this.setState({\n          shadow\n        });\n      }\n\n      console.log(e.nativeEvent);\n    };\n\n    this.handleClick = e => {\n      if (this.state.shadow) {\n        let joined = this.state.SVGs.concat(this.state.shadow);\n        this.setState({\n          SVGs: joined,\n          shadow: null\n        });\n      } else if (this.props.selectedTool !== 'none') {\n        this.setState({\n          shadow: {\n            type: this.props.selectedTool,\n            startX: e.nativeEvent.x / this.state.width * 10000,\n            startY: e.nativeEvent.y / this.state.height * 10000,\n            endX: e.nativeEvent.x / this.state.width * 10000,\n            endY: e.nativeEvent.y / this.state.height * 10000\n          }\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(Document, {\n      className: \"display\",\n      file: this.props.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Page, {\n      onRenderSuccess: this.setDrawing,\n      height: window.innerHeight - 150,\n      pageNumber: this.props.pageNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(Drawing, {\n      SVGs: this.state.SVGs,\n      shadow: this.state.shadow,\n      onClick: this.handleClick,\n      onMouseMove: this.handleMouseMove,\n      height: this.state.height,\n      width: this.state.width,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/eric/projects/spotlight/src/components/display.jsx"],"names":["React","Component","Document","Page","pdfjs","Drawing","GlobalWorkerOptions","workerSrc","version","Display","state","SVGs","shadow","height","width","setDrawing","page","document","querySelector","setState","clientHeight","clientWidth","handleMouseMove","e","endX","nativeEvent","layerX","endY","layerY","console","log","handleClick","joined","concat","props","selectedTool","type","startX","x","startY","y","render","content","window","innerHeight","pageNumber"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport { pdfjs } from 'react-pdf';\nimport Drawing from './drawing';\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\nexport default class Display extends Component {\n\tstate = {\n\t\tSVGs: [],\n\t\tshadow: null,\n\t\theight: null,\n\t\twidth: null\n\t};\n\tsetDrawing = () => {\n\t\tlet page = document.querySelector('.display canvas');\n\t\tthis.setState({ height: page.clientHeight, width: page.clientWidth });\n\t};\n\thandleMouseMove = (e) => {\n\t\tif (this.state.shadow) {\n\t\t\tlet shadow = { ...this.state.shadow };\n\t\t\tshadow.endX = e.nativeEvent.layerX / this.state.width * 10000;\n\t\t\tshadow.endY = e.nativeEvent.layerY / this.state.height * 10000;\n\t\t\tthis.setState({\n\t\t\t\tshadow\n\t\t\t});\n\t\t}\n\t\tconsole.log(e.nativeEvent);\n\t};\n\thandleClick = (e) => {\n\t\tif (this.state.shadow) {\n\t\t\tlet joined = this.state.SVGs.concat(this.state.shadow);\n\t\t\tthis.setState({ SVGs: joined, shadow: null });\n\t\t} else if (this.props.selectedTool !== 'none') {\n\t\t\tthis.setState({\n\t\t\t\tshadow: {\n\t\t\t\t\ttype: this.props.selectedTool,\n\t\t\t\t\tstartX: e.nativeEvent.x / this.state.width * 10000,\n\t\t\t\t\tstartY: e.nativeEvent.y / this.state.height * 10000,\n\t\t\t\t\tendX: e.nativeEvent.x / this.state.width * 10000,\n\t\t\t\t\tendY: e.nativeEvent.y / this.state.height * 10000\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Document className=\"display\" file={this.props.content}>\n\t\t\t\t<Page\n\t\t\t\t\tonRenderSuccess={this.setDrawing}\n\t\t\t\t\theight={window.innerHeight - 150}\n\t\t\t\t\tpageNumber={this.props.pageNumber}\n\t\t\t\t/>\n\t\t\t\t<Drawing\n\t\t\t\t\tSVGs={this.state.SVGs}\n\t\t\t\t\tshadow={this.state.shadow}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\t\theight={this.state.height}\n\t\t\t\t\twidth={this.state.width}\n\t\t\t\t/>\n\t\t\t</Document>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}